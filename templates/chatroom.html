<!DOCTYPE html>
<html>

<head>
    <link rel="icon" type="image/png" href="static/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="static/favicon-16x16.png" sizes="16x16" />
    <title>Chat Room</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href={{ url_for( 'static' , filename="style.css" ) }} />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <meta id="my-data" data-name="{{username}}">
    <style>
        input {display: block;}
        ul {list-style: none;}
    </style>
</head>

<body>
    
    <script type="text/javascript">
        var myVar = "{{username}}";


        $(document).ready(function() {
        
            var socket = io.connect('http://127.0.0.1:5000');
        
       
            socket.on('message', function(msg) {
                $("#messages").append('<li>' + msg + '</li>');
                console.log('Received message');
            });
        
            $('#sendbutton').on('click', function() {
                socket.send($('#myMessage').val());
                $('#myMessage').val('');
            });
        
        });
        </script>
        <ul id="messages"></ul>
        <input type="text" id="myMessage">
        <button id="sendbutton">Send</button>
</body>

</html>
